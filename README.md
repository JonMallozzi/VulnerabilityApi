# Vulnerability API
[![Build Status](https://app.travis-ci.com/JonMallozzi/VulnerabilityApi.svg?branch=master)](https://app.travis-ci.com/JonMallozzi/VulnerabilityApi)
![example gif 1](vulnerabilityApi.gif)

#### A simple Java Spring Boot API to retrieve vulnerability data from the [National Vulnerability Database](https://nvd.nist.gov/vuln/data-feeds)

## Goal
Set up endpoints to quickly get CVE Vulnerability data to learn about the latest vulnerabilities, see outstanding vulnerabilities in a given software, and visualize common attack areas.
On top of that, this data is ready to fetch in any frontend to make exciting charts and diagrams. I see D3.js plus a React.js frontend could make a fun project to present this data in a visually pleasing way.
Lastly, a big goal was to have the API be able to be self-hosted by anyone who pleases.

## Installation
The only requirement is a JDK 9 or greater installed.
I used OpenJDK-17, so you might need to downgrade the version in build and pom.xml to your version to run the API.

1. git clone the repository
2. cd into the cloned repository
3. mvn install
4. mvn spring-boot:run

Now the server is running locally, waiting for requests.

Note: if you do not want to use maven on the command line to run the API, you could open the pom.xml in your favorite Java IDE and run the project there

## Documentation
[Java doc documentation for the API can be found on the project's git page or by clicking this text](http://jonmallozzi.github.io/vulnerabilityapi)

## Endpoints
root URL for vulnerabilities: API/v1/vulnerability/
* get(/) - returns a JSON array of all the vulnerabilities &nbsp;
* get(/id/{id}) - returns the vulnerability that matches the id provided. if no vulnerability was found, the endpoint returns an empty JSON array &nbsp;
* get(/software/{software}) - a rough search of the CVE description value for the software name as that is not a field to find related CVEs. if no vulnerability was found, the endpoint returns an empty JSON array &nbsp;
* get(/v3/severity/{severity}) - returns all vulnerabilities that impact with a BaseMetricV3 baseSeverity that matches the provided value. if no vulnerability was found, the endpoint returns an empty JSON array  &nbsp;
* get(/v2/severity/{severity}) - returns all vulnerabilities that impact with a BaseMetricV2 severity that matches the provided value. if no vulnerability was found, the endpoint returns an empty JSON array  &nbsp;
* get(/v3/attackVector/{attackVector}) - returns all vulnerabilities that have a matching BaseMetricV3 attackVector. if no vulnerability was found, the endpoint returns an empty JSON array &nbsp;
* get(/v2/accessVector/{accessVector}) - returns all vulnerabilities that have a matching BaseMetricV2 accessVector. if no vulnerability was found, the endpoint returns an empty JSON array &nbsp;
  *post(/multiple) - takes an JSON array of vulnerabilities in the body and saves them &nbsp;
* post(/) - takes a JSON object of a vulnerability in the body and saves it. Throws a VulnerabilityAlreadyExists exception if there already exists a vulnerability for the provided id &nbsp;
* put(/) - takes a JSON object of a vulnerability in the body and replaces the store values with provided vulnerability. Throws a VulnerabilityDoesNotExist exception if no vulnerability was found with a matching id &nbsp;
* delete(/{id}) - Deletes the vulnerability with the matching id as the one provided. Throws a VulnerabilityDoesNotExist exception if no vulnerability was found with a matching id &nbsp;

## Future Plans
* Refactor the model into a better file structure and layout
* Add more exceptions and have better exception handling
* Add H2 and JPA for in-memory database storage of the vulnerability data
* Add a system fetch and keep the vulnerability up to date
* Add Postgres Storage, authentication, a React visualization frontend app, and host the full-stack app on a VPS 
